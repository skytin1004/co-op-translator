<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "1ae2159f900e7d5d596bb00bcba4c999",
  "translation_date": "2025-10-22T14:14:40+00:00",
  "source_file": "CONTRIBUTING.md",
  "language_code": "uk"
}
-->
# Внесок у Co-op Translator

Цей проєкт відкритий для внесків і пропозицій. Для більшості внесків потрібно погодитися з Contributor License Agreement (CLA), що підтверджує ваше право надати нам права на використання вашого внеску. Детальніше: https://cla.opensource.microsoft.com.

Коли ви надсилаєте pull request, бот CLA автоматично визначить, чи потрібно вам підписати CLA, і відповідно позначить PR (наприклад, статус, коментар). Просто дотримуйтесь інструкцій бота. Підписати CLA потрібно лише один раз для всіх репозиторіїв, які його використовують.

## Налаштування середовища розробки

Для роботи над цим проєктом рекомендуємо використовувати Poetry для керування залежностями. Ми використовуємо `pyproject.toml` для керування залежностями, тому для їх встановлення слід використовувати Poetry.

### Створення віртуального середовища

#### Через pip

```bash
python -m venv .venv
```

#### Через Poetry

```bash
poetry init
```

### Активація віртуального середовища

#### Для pip і Poetry

- Windows:

    ```bash
    .venv\Scripts\activate.bat
    ```

- Mac/Linux:

    ```bash
    source .venv/bin/activate
    ```

#### Через Poetry

```bash
poetry shell
```

### Встановлення пакета та необхідних залежностей

#### Через Poetry (з pyproject.toml)

```bash
poetry install
```

### Ручне тестування

Перед тим як надсилати PR, важливо протестувати функціонал перекладу на реальній документації:

1. Створіть тестову директорію в корені проєкту:
    ```bash
    mkdir test_docs
    ```

2. Скопіюйте туди markdown-документацію та зображення, які хочете перекласти. Наприклад:
    ```bash
    cp /path/to/your/docs/*.md test_docs/
    cp /path/to/your/images/*.png test_docs/
    ```

3. Встановіть пакет локально:
    ```bash
    pip install -e .
    ```

4. Запустіть Co-op Translator для ваших тестових документів:
    ```bash
    python -m co_op_translator --language-codes ko --root-dir test_docs
    ```

5. Перевірте перекладені файли у `test_docs/translations` та `test_docs/translated_images`, щоб переконатися:
   - Якість перекладу
   - Коректність метаданих у коментарях
   - Збереження структури markdown
   - Коректна робота посилань і зображень

Таке ручне тестування допомагає переконатися, що ваші зміни працюють у реальних умовах.

### Змінні середовища

1. Створіть файл `.env` у корені проєкту, скопіювавши шаблон `.env.template`.
1. Заповніть змінні середовища згідно з інструкціями.

> [!TIP]
>
> ### Додаткові варіанти середовища розробки
>
> Окрім локального запуску, можна використовувати GitHub Codespaces або VS Code Dev Containers для альтернативного налаштування середовища.
>
> #### GitHub Codespaces
>
> Ви можете запускати ці приклади у віртуальному середовищі через GitHub Codespaces без додаткових налаштувань.
>
> Кнопка відкриє веб-версію VS Code у вашому браузері:
>
> 1. Відкрийте шаблон (це може зайняти кілька хвилин):
>
>     [![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/azure/co-op-translator)
>
> #### Локальний запуск через VS Code Dev Containers
>
> ⚠️ Цей варіант працює лише якщо Docker Desktop виділено щонайменше 16 ГБ оперативної пам’яті. Якщо у вас менше 16 ГБ, спробуйте [GitHub Codespaces](../..) або [налаштуйте локально](../..).
>
> Ще один варіант — VS Code Dev Containers, який відкриє проєкт у вашому локальному VS Code через [розширення Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers):
>
> 1. Запустіть Docker Desktop (встановіть, якщо ще не встановлено)
> 2. Відкрийте проєкт:
>
>    [![Open in Dev Containers](https://img.shields.io/static/v1?style=for-the-badge&label=Dev%20Containers&message=Open&color=blue&logo=visualstudiocode)](https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/azure/co-op-translator)


### Стиль коду

Ми використовуємо [Black](https://github.com/psf/black) як форматер Python-коду для підтримки єдиного стилю у проєкті. Black — це автоматичний форматер, який самостійно приводить код до стандарту Black.

#### Налаштування

Конфігурація Black вказана у нашому `pyproject.toml`:

```toml
[tool.black]
line-length = 88
target-version = ['py310']
include = '\.pyi?$'
```

#### Встановлення Black

Ви можете встановити Black через Poetry (рекомендовано) або pip:

##### Через Poetry

Black встановлюється автоматично при налаштуванні середовища:
```bash
poetry install
```

##### Через pip

Якщо використовуєте pip, встановіть Black напряму:
```bash
pip install black
```

#### Використання Black

##### З Poetry

1. Відформатуйте всі Python-файли у проєкті:
    ```bash
    poetry run black .
    ```

2. Відформатуйте окремий файл або директорію:
    ```bash
    poetry run black path/to/file_or_directory
    ```

##### З pip

1. Відформатуйте всі Python-файли у проєкті:
    ```bash
    black .
    ```

2. Відформатуйте окремий файл або директорію:
    ```bash
    black path/to/file_or_directory
    ```

> [!TIP]
> Рекомендуємо налаштувати редактор для автоматичного форматування коду Black при збереженні. Більшість сучасних редакторів підтримують це через розширення або плагіни.

## Запуск Co-op Translator

Щоб запустити Co-op Translator через Poetry у вашому середовищі, виконайте наступні кроки:

1. Перейдіть у директорію, де хочете провести тест перекладу, або створіть тимчасову папку для тестування.

2. Виконайте команду нижче. Замініть `-l ko` на код мови, на яку хочете перекласти. Прапорець `-d` вмикає режим налагодження.

    ```bash
    poetry run co-op-translator translate -l ko -d
    ```

> [!NOTE]
> Переконайтеся, що ваше середовище Poetry активовано (poetry shell) перед запуском команди.

## Додавання нової мови

Ми раді внескам, які додають підтримку нових мов. Перед створенням PR виконайте наступні кроки для зручного перегляду.

1. Додайте мову до відповідності шрифтів
   - Відредагуйте `src/co_op_translator/fonts/font_language_mappings.yml`
   - Додайте запис із:
     - `code`: код мови у стилі ISO (наприклад, `vi`)
     - `name`: зручна назва для відображення
     - `font`: шрифт із `src/co_op_translator/fonts/`, який підтримує цю писемність
     - `rtl`: `true` для правосторонніх мов, інакше `false`

2. Додайте необхідні файли шрифтів (за потреби)
   - Якщо потрібен новий шрифт, перевірте ліцензію на відкритий розповсюдження
   - Додайте файл шрифту у `src/co_op_translator/fonts/`

3. Локальна перевірка
   - Запустіть переклад для невеликого зразка (Markdown, зображення, ноутбуки — за потреби)
   - Переконайтеся, що результат коректно відображається, включаючи шрифти та RTL-розмітку (якщо актуально)

4. Оновіть документацію
   - Переконайтеся, що мова з’явилася у `getting_started/supported-languages.md`
   - Не змінюйте `README_languages_template.md`; він генерується зі списку підтримуваних мов

5. Створіть PR
   - Опишіть додану мову та особливості шрифту/ліцензії
   - Додайте скріншоти відображення результату, якщо можливо

Приклад запису YAML:

```yaml
new_lang(code):
  name: "New Language"
  font: "NotoSans-Medium.ttf"
  rtl: false
```

### Тестування нової мови

Ви можете протестувати нову мову, виконавши команду:

```bash
# Create and activate a virtual environment (recommended)
python -m venv .venv
# Windows
.venv\Scripts\activate
# macOS/Linux
source .venv/bin/activate
# Install the development package
pip install -e .
# Run the translation
translate -l "new_lang"
```

## Мейнтенери

### Формат комітів і стратегія злиття

Для підтримки послідовності та зрозумілості історії комітів ми використовуємо певний формат **фінального коміту** при стратегії **Squash and Merge**.

Коли PR зливається, всі коміти об’єднуються в один. Фінальний коміт має відповідати формату нижче для чистої історії.

#### Формат комітів (для squash and merge)

Використовується такий формат:

```bash
<type>: <description> (#<PR number>)
```

- **type**: Категорія коміту. Використовуються такі типи:
  - `Docs`: Оновлення документації.
  - `Build`: Зміни, пов’язані з системою збірки чи залежностями, включаючи конфігураційні файли, CI, Dockerfile.
  - `Core`: Зміни основної функціональності чи можливостей проєкту, особливо у файлах `src/co_op_translator/core`.

- **description**: Короткий опис змін.
- **PR number**: Номер pull request, пов’язаний із комітом.

**Приклади**:

- `Docs: Оновлено інструкції з встановлення для зрозумілості (#50)`
- `Core: Покращено обробку перекладу зображень (#60)`

> [!NOTE]
> Префікси **`Docs`**, **`Core`** та **`Build`** автоматично додаються до назв PR на основі застосованих міток до зміненого коду. Якщо мітка правильна, зазвичай не потрібно вручну змінювати назву PR. Просто перевірте, що все коректно і префікс згенеровано правильно.

#### Стратегія злиття

Ми використовуємо **Squash and Merge** як основну стратегію для pull request. Це гарантує, що коміти відповідають нашому формату, навіть якщо окремі коміти — ні.

**Причини**:

- Чиста, лінійна історія проєкту.
- Послідовність комітів.
- Менше "шуму" від дрібних комітів (наприклад, "fix typo").

Під час злиття переконайтеся, що фінальний коміт відповідає описаному формату.

**Приклад Squash and Merge**
Якщо PR містить такі коміти:

- `fix typo`
- `update README`
- `adjust formatting`

Вони мають бути об’єднані у:
`Docs: Покращено зрозумілість і форматування документації (#65)`

---

**Застереження**:
Цей документ було перекладено за допомогою сервісу автоматичного перекладу [Co-op Translator](https://github.com/Azure/co-op-translator). Хоча ми прагнемо до точності, звертаємо вашу увагу, що автоматичний переклад може містити помилки або неточності. Оригінальний документ рідною мовою слід вважати авторитетним джерелом. Для критично важливої інформації рекомендується професійний людський переклад. Ми не несемо відповідальності за будь-які непорозуміння або неправильне тлумачення, що виникли внаслідок використання цього перекладу.